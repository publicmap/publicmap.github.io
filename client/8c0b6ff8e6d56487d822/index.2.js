(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{17:function(e,t,o){"use strict";o.r(t);var s=o(0);s.a;var a=o(13),l=o(1);const n={};var c=o(8);function i(e,t,o){const{getMap:s,getMapbox:a}=Object(l.c)(n),i=s();a();let{position:r="bottom-right"}=t,{options:b={}}=t;return i.addControl(new c.a,r),e.$$set=e=>{"position"in e&&o(0,r=e.position),"options"in e&&o(1,b=e.options)},[r,b]}class r extends s.a{constructor(e){super(),Object(s.C)(this,e,i,null,s.L,{position:0,options:1})}}var b=r;function p(e,t,o){const{getMap:s,getMapbox:a}=Object(l.c)(n),c=s();a();let{position:i="bottom-left"}=t,{options:r={}}=t;class b{constructor(e={}){this.container=document.createElement("div")}onAdd(e){return this.map=e,this.map.on("mapTitle",this.titleListener),this.container}onRemove(){this.map.off("mapTitle",this.titleListener),this.map=void 0}styleChangeListener(){this.map.off("mapTitle",this.titleListener),this.setTitle("HI")}setTitle(e){return e}}return c.addControl(new b,i),e.$$set=e=>{"position"in e&&o(0,i=e.position),"options"in e&&o(1,r=e.options)},[i,r,b]}class m extends s.a{constructor(e){super(),Object(s.C)(this,e,p,null,s.L,{position:0,options:1,LanguageControl:2})}get LanguageControl(){return this.$$.ctx[2]}}var g=m,d=o(12);function j(e,t,o){const s=Object(l.b)(),{getMap:a,getMapbox:c}=Object(l.c)(n),i=a();c();let{styles:r=[{label:"Streets",styleName:"Mapbox Streets",styleUrl:"mapbox://styles/mapbox/streets-v9"},{label:"Satellite",styleName:"Satellite",styleUrl:"mapbox://styles/mapbox/satellite-v9"}]}=t,{position:b="bottom-right"}=t;return i.addControl(new d.a({styles:r,onChange:e=>s("change",{style:e})}),b),e.$$set=e=>{"styles"in e&&o(0,r=e.styles),"position"in e&&o(1,b=e.position)},[r,b]}class u extends s.a{constructor(e){super(),Object(s.C)(this,e,j,null,s.L,{styles:0,position:1})}}var O=u,h=o(2);o(5);const{document:f}=s.A;function y(e){let t,o,a,l,n,c,i,r,p,m,d,j;return t=new O({props:{styles:e[0].map.styles}}),t.$on("change",e[7]),a=new e[3]({props:{position:"top-right",options:{trackUserLocation:!0}}}),a.$on("geolocate",x),n=new e[4]({}),i=new e[5]({props:{position:"bottom-left"}}),p=new b({props:{position:"bottom-left"}}),d=new g({}),{c(){Object(s.q)(t.$$.fragment),o=Object(s.P)(),Object(s.q)(a.$$.fragment),l=Object(s.P)(),Object(s.q)(n.$$.fragment),c=Object(s.P)(),Object(s.q)(i.$$.fragment),r=Object(s.P)(),Object(s.q)(p.$$.fragment),m=Object(s.P)(),Object(s.q)(d.$$.fragment)},l(e){Object(s.k)(t.$$.fragment,e),o=Object(s.m)(e),Object(s.k)(a.$$.fragment,e),l=Object(s.m)(e),Object(s.k)(n.$$.fragment,e),c=Object(s.m)(e),Object(s.k)(i.$$.fragment,e),r=Object(s.m)(e),Object(s.k)(p.$$.fragment,e),m=Object(s.m)(e),Object(s.k)(d.$$.fragment,e)},m(e,b){Object(s.F)(t,e,b),Object(s.D)(e,o,b),Object(s.F)(a,e,b),Object(s.D)(e,l,b),Object(s.F)(n,e,b),Object(s.D)(e,c,b),Object(s.F)(i,e,b),Object(s.D)(e,r,b),Object(s.F)(p,e,b),Object(s.D)(e,m,b),Object(s.F)(d,e,b),j=!0},p(e,o){const s={};1&o&&(s.styles=e[0].map.styles),t.$set(s)},i(e){j||(Object(s.S)(t.$$.fragment,e),Object(s.S)(a.$$.fragment,e),Object(s.S)(n.$$.fragment,e),Object(s.S)(i.$$.fragment,e),Object(s.S)(p.$$.fragment,e),Object(s.S)(d.$$.fragment,e),j=!0)},o(e){Object(s.T)(t.$$.fragment,e),Object(s.T)(a.$$.fragment,e),Object(s.T)(n.$$.fragment,e),Object(s.T)(i.$$.fragment,e),Object(s.T)(p.$$.fragment,e),Object(s.T)(d.$$.fragment,e),j=!1},d(e){Object(s.s)(t,e),e&&Object(s.u)(o),Object(s.s)(a,e),e&&Object(s.u)(l),Object(s.s)(n,e),e&&Object(s.u)(c),Object(s.s)(i,e),e&&Object(s.u)(r),Object(s.s)(p,e),e&&Object(s.u)(m),Object(s.s)(d,e)}}}function $(e){let t,o,l,n,c,i,r,b,p,m,g=e[0].map.filter.iso_3166_1_label+"",d={accessToken:e[0].map.accessToken,style:e[0].map.styles[4].styleUrl,options:{hash:!0,attributionControl:!0},version:"v2.0.0",$$slots:{default:[y]},$$scope:{ctx:e}};r=new a.a({props:d}),e[9](r),r.$on("ready",e[6]),r.$on("recentre",e[8]);let j=!1;return{c(){t=Object(s.v)("section"),o=Object(s.v)("h1"),l=Object(s.v)("span"),n=Object(s.R)(g),c=Object(s.P)(),i=Object(s.v)("div"),Object(s.q)(r.$$.fragment),b=Object(s.P)(),p=Object(s.v)("div"),j&&j.c(),this.h()},l(e){t=Object(s.l)(e,"SECTION",{class:!0});var a=Object(s.j)(t);o=Object(s.l)(a,"H1",{class:!0});var m=Object(s.j)(o);l=Object(s.l)(m,"SPAN",{class:!0});var d=Object(s.j)(l);n=Object(s.n)(d,g),d.forEach(s.u),m.forEach(s.u),a.forEach(s.u),c=Object(s.m)(e),i=Object(s.l)(e,"DIV",{id:!0,class:!0});var u=Object(s.j)(i);Object(s.k)(r.$$.fragment,u),u.forEach(s.u),b=Object(s.m)(e),p=Object(s.l)(e,"DIV",{id:!0,class:!0});var O=Object(s.j)(p);j&&j.l(O),O.forEach(s.u),this.h()},h(){Object(s.f)(l,"class","block svelte-2gz3r1"),Object(s.f)(o,"class","uk-no-margin uk-float-left"),Object(s.f)(t,"class","svelte-2gz3r1"),Object(s.f)(i,"id","map"),Object(s.f)(i,"class","svelte-2gz3r1"),Object(s.f)(p,"id","locator-map"),Object(s.f)(p,"class","svelte-2gz3r1")},m(e,a){Object(s.D)(e,t,a),Object(s.d)(t,o),Object(s.d)(o,l),Object(s.d)(l,n),Object(s.D)(e,c,a),Object(s.D)(e,i,a),Object(s.F)(r,i,null),Object(s.D)(e,b,a),Object(s.D)(e,p,a),j&&j.m(p,null),m=!0},p(e,[t]){(!m||1&t)&&g!==(g=e[0].map.filter.iso_3166_1_label+"")&&Object(s.N)(n,g);const o={};1&t&&(o.accessToken=e[0].map.accessToken),1&t&&(o.style=e[0].map.styles[4].styleUrl),8388609&t&&(o.$$scope={dirty:t,ctx:e}),r.$set(o),j&&(j.d(1),j=null)},i(e){m||(Object(s.S)(r.$$.fragment,e),m=!0)},o(e){Object(s.T)(r.$$.fragment,e),m=!1},d(o){o&&Object(s.u)(t),o&&Object(s.u)(c),o&&Object(s.u)(i),e[9](null),Object(s.s)(r),o&&Object(s.u)(b),o&&Object(s.u)(p),j&&j.d()}}}function x(e){}function v(e,t,o){let c;const{preloading:i,page:r,session:b}=Object(h.b)();Object(s.o)(e,r,e=>o(12,c=e));const{GeolocateControl:p,NavigationControl:m,ScaleControl:g}=a.b;let d,j;Object(l.f)(n,{getMap:()=>d,getMapbox:()=>j});let{settings:u={user:{locale:"en-US",language:"en",fallbackLanguage:"en",location:{geoip:null,gps:null}},map:{accessToken:"pk.eyJ1IjoicGxhbmVtYWQiLCJhIjoiY2l3ZmNjNXVzMDAzZzJ0cDV6b2lkOG9odSJ9.eep6sUoBS0eMN4thZUWpyQ",worldview:"US",style:"Railway",styles:[{label:"Streets",styleName:"Mapbox Streets",styleUrl:"mapbox://styles/mapbox/streets-v9"},{label:"Boundaries",styleName:"Boundaries",styleUrl:"mapbox://styles/planemad/ckimruzo31c1f17mejyp2a2go"},{label:"Railway",styleName:"Railway",styleUrl:"mapbox://styles/planemad/ck7p3wxmp0q571imu99elwqs1"},{label:"Hydrology",styleName:"Hydrology",styleUrl:"mapbox://styles/planemad/ckd42fwa20n531iqrewerwla1"},{label:"OpenStreetMap",styleName:"OpenStreetMap",styleUrl:"https://cdn.jsdelivr.net/gh/osm-in/mapbox-gl-styles@latest/osm-mapnik-india-v8.json"}],locationContext:null,filter:{iso_3166_1:null,iso_3166_1_label:"...",iso_3166_2:null,iso_3166_2_label:null}}}}=t;function O(e){let t=d.getCenter(),s=`https://api.mapbox.com/geocoding/v5/mapbox.places/${t.lng}%2C${t.lat}.json?access_token=${u.map.accessToken}&cachebuster=1606707965137&autocomplete=true&worldview=${u.map.worldview.toLocaleLowerCase()}&types=country%2Cregion%2Cdistrict%2Cpostcode%2Clocality%2Cplace%2Cneighborhood%2Caddress%2Cpoi&language=${u.user.language}`;fetch(s).then(e=>e.json()).then(e=>{o(0,u.map.locationContext=e,u),o(0,u.map.filter.iso_3166_1_label=e.features[e.features.length-1]["text_"+u.user.language],u),o(0,u.map.filter.iso_3166_1=e.features[e.features.length-1].properties.short_code,u)})}function f(e){if(d.getSource("mapbox-dem")||(d.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),d.setTerrain({source:"mapbox-dem",exaggeration:["interpolate",["linear"],["zoom"],1,200,3,40,5,10,10,4,12,2,16,1]})),d.getSource("3d-hillshade")||(d.addSource("3d-hillshade",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),d.addLayer({id:"3d-hillshade",source:"3d-hillshade",type:"hillshade",paint:{"hillshade-shadow-color":"#0f0f0f","hillshade-highlight-color":"#ffffff","hillshade-accent-color":"#625e3c","hillshade-exaggeration":["interpolate",["linear"],["zoom"],4,.5,12,.2,20,.1],"hillshade-shadow-color":"#0f0f0f"}})),!d.getLayer("3d-buildings")){d.getSource("composite")||d.addSource("composite",{type:"vector",url:"mapbox://mapbox.mapbox-streets-v8"});for(var t,o=d.getStyle().layers,s=0;s<o.length;s++)if("symbol"===o[s].type&&o[s].layout["text-field"]){t=o[s].id;break}d.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.8}},t)}d.getLayer("sky")||d.addLayer({id:"sky",type:"sky",paint:{"sky-type":"atmosphere","sky-atmosphere-sun":[0,0],"sky-atmosphere-sun-intensity":2}})}let y;return Object(l.e)(()=>{const e=document.createElement("link");return e.rel="stylesheet",e.href="https://raw.githack.com/bravecow/mapbox-gl-controls/master/theme.css",document.body.appendChild(e),()=>{d.remove(),e.parentNode.removeChild(e)}}),e.$$set=e=>{"settings"in e&&o(0,u=e.settings)},e.$$.update=()=>{4096&e.$$.dirty&&(y=c.query.style)},[u,j,r,p,m,g,function(e){d=j.getMap(),O(e),f()},function(e){y=e.detail.style.label,console.log(y),d.on("styledata",(function(){f()}))},O,function(e){s.h[e?"unshift":"push"](()=>{j=e,o(1,j)})}]}class w extends s.a{constructor(e){var t;super(),f.getElementById("svelte-2gz3r1-style")||((t=Object(s.v)("style")).id="svelte-2gz3r1-style",t.textContent="#map.svelte-2gz3r1{height:100vh}#locator-map.svelte-2gz3r1{position:absolute;right:10px;bottom:10px}section.svelte-2gz3r1{position:absolute;left:46px;top:12px;z-index:99}span.block.svelte-2gz3r1{padding:0 4px;background-color:rgba(255, 255, 255, 0.5)}.mapboxgl-control-container > * > :not(.mapboxgl-ctrl-attrib){opacity:0.2;transition:opacity 2s ease-out;z-index:99}.mapboxgl-control-container:hover > * > *{opacity:1;transition:opacity 0.1s ease-in}.mapboxgl-ctrl-geocoder{width:30px;min-width:30px}.mapboxgl-ctrl-geocoder .suggestions li, .mapboxgl-ctrl-geocoder\n      div{display:none}.mapboxgl-ctrl-geocoder:hover{width:200px;min-width:inherit;transition:width 0.3s ease-in-out}.mapboxgl-ctrl-geocoder:hover\n      .suggestions\n      li, .mapboxgl-ctrl-geocoder:hover div{display:inherit}",Object(s.d)(f.head,t)),Object(s.C)(this,e,v,$,s.L,{settings:0})}}var k=w;function C(e){let t,o,a,l;function n(t){e[1].call(null,t)}let c={};return void 0!==e[0]&&(c.map=e[0]),o=new k({props:c}),s.h.push(()=>Object(s.g)(o,"map",n)),{c(){t=Object(s.P)(),Object(s.q)(o.$$.fragment),this.h()},l(e){Object(s.J)('[data-svelte="svelte-14wj8fu"]',document.head).forEach(s.u),t=Object(s.m)(e),Object(s.k)(o.$$.fragment,e),this.h()},h(){document.title="Atlas"},m(e,a){Object(s.D)(e,t,a),Object(s.F)(o,e,a),l=!0},p(e,[t]){const l={};!a&&1&t&&(a=!0,l.map=e[0],Object(s.b)(()=>a=!1)),o.$set(l)},i(e){l||(Object(s.S)(o.$$.fragment,e),l=!0)},o(e){Object(s.T)(o.$$.fragment,e),l=!1},d(e){e&&Object(s.u)(t),Object(s.s)(o,e)}}}function S(e,t,o){let s;return[s,function(e){s=e,o(0,s)}]}class z extends s.a{constructor(e){super(),Object(s.C)(this,e,S,C,s.L,{})}}t.default=z}}]);